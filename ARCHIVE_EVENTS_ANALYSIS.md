# üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã —Å –∞—Ä—Ö–∏–≤–Ω—ã–º–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏

## üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ê—Ä—Ö–∏–≤–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–æ–±—ã—Ç–∏–π. –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–ê—Ä—Ö–∏–≤–Ω—ã–µ" –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫, –¥–∞–∂–µ –µ—Å–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è.

## üö® –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

### **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ `is_archived` –≤ —Å—Ö–µ–º–µ –ë–î**

–í —Ñ–∞–π–ª–µ `promt/supabase_schema.sql` –≤ —Ç–∞–±–ª–∏—Ü–µ `events` **–ù–ï–¢ –ø–æ–ª—è `is_archived`**:

```sql
create table events (
  id uuid primary key default gen_random_uuid(),
  name varchar(120) not null,
  organizer varchar(120) not null,
  location varchar(120) not null,
  -- ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è ...
  responsible_engineers uuid[] not null
  -- ‚ùå –û–¢–°–£–¢–°–¢–í–£–ï–¢: is_archived boolean not null default false
);
```

## üìä –ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É –∫–æ–¥–æ–º –∏ —Å—Ö–µ–º–æ–π

### –ö–æ–¥ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç –Ω–∞–ª–∏—á–∏–µ `is_archived`:
- `eventApi.js`: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `{ is_archived: true }` –¥–ª—è –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è
- `event-store.js`: —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ `!!ev.is_archived === !!isArchived`
- `EventCard.vue`: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `event.is_archived` –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
- `events-page.vue`: —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ `!event.is_archived`

### –ë–î –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–µ:
- –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö `event.is_archived` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `undefined`
- –í—Å–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è —Å—á–∏—Ç–∞—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º–∏: `!undefined` = `true`
- –ê—Ä—Ö–∏–≤–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –ø—É—Å—Ç—ã–µ: `undefined` = `false`

## üîß –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### 1. –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

```javascript
// events-page.vue
const activeEvents = computed(() => 
  events.value.filter(event => !event.is_archived) // !undefined = true (–≤—Å–µ –ø–æ–ø–∞–¥–∞—é—Ç)
)

const archivedEvents = computed(() => 
  events.value.filter(event => event.is_archived) // undefined = false (–≤—Å–µ–≥–¥–∞ –ø—É—Å—Ç–æ)
)
```

### 2. –ú–µ—Ç–æ–¥—ã –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

```javascript
// eventApi.js
export async function fetchEvents() {
  return await supabase.from('events').select('*') // is_archived –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
}
```

### 3. Store –æ–±—Ä–∞–±–æ—Ç–∫–∞

```javascript
// event-store.js - —Å—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ —Å showArchived —Ñ–ª–∞–≥–æ–º –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π
this.showArchived = val
this.loadEvents()
```

## üí° –†–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Ö–µ–º—É –ë–î (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

#### –®–∞–≥–∏:
1. **–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ —Ç–∞–±–ª–∏—Ü—É events:**
```sql
ALTER TABLE events 
ADD COLUMN is_archived boolean NOT NULL DEFAULT false;
```

2. **–°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
```sql
CREATE INDEX idx_events_is_archived ON events(is_archived);
```

3. **–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:**
```sql
COMMENT ON COLUMN events.is_archived IS '–§–ª–∞–≥ –∞—Ä—Ö–∏–≤–Ω–æ–≥–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è. false = –∞–∫—Ç–∏–≤–Ω–æ–µ, true = –∞—Ä—Ö–∏–≤–Ω–æ–µ';
```

#### –ì–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:
–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `promt/supabase_schema_fix.sql` —Å –ø–æ–ª–Ω—ã–º —Å–∫—Ä–∏–ø—Ç–æ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

### ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ (–í–†–ï–ú–ï–ù–ù–û–ï)

#### –û–±–Ω–æ–≤–ª–µ–Ω–æ –≤ `eventApi.js`:
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `fetchActiveEvents()` –∏ `fetchArchivedEvents()`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `checkArchivingSupport()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ–ª—è `is_archived`

#### –û–±–Ω–æ–≤–ª–µ–Ω–æ –≤ `event-store.js`:
- –î–æ–±–∞–≤–ª–µ–Ω getter `archivingSupported` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `loadActiveEvents()` –∏ `loadArchivedEvents()`
- Fallback –ª–æ–≥–∏–∫–∞ –∫–æ–≥–¥–∞ –ø–æ–ª–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

### üîß –†–µ—à–µ–Ω–∏–µ 3: –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

–°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `EventDiagnostic.vue` –¥–ª—è:
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞–ª–∏—á–∏—è –ø–æ–ª—è `is_archived` –≤ –ë–î
- –ê–Ω–∞–ª–∏–∑–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è

## üìã –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –í–∞—Ä–∏–∞–Ω—Ç A: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ë–î (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard**
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ SQL Editor**
3. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:**
```sql
-- –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ
ALTER TABLE events ADD COLUMN is_archived boolean NOT NULL DEFAULT false;

-- –°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å
CREATE INDEX idx_events_is_archived ON events(is_archived);

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
SELECT column_name, data_type, column_default 
FROM information_schema.columns 
WHERE table_name = 'events' AND column_name = 'is_archived';
```
4. **–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è**

### –í–∞—Ä–∏–∞–Ω—Ç B: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π**
2. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"**
3. **–ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î"**
4. **–°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ –ø–∞–Ω–µ–ª–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏**

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î:
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ
2. –ê—Ä—Ö–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏ "–ê–∫—Ç–∏–≤–Ω—ã–µ"/"–ê—Ä—Ö–∏–≤–Ω—ã–µ"
4. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å—á–µ—Ç—á–∏–∫–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫–∞—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î" ‚Äî –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å ‚úÖ
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è" ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª–µ `is_archived`

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è:
```javascript
{
  id: "uuid",
  name: "string",
  organizer: "string", 
  location: "string",
  description: "text",
  technical_task: "text",
  photos: "string[]",
  setup_date: "date",
  start_date: "date", 
  end_date: "date",
  teardown_date: "date",
  mount_points_count: "integer",
  responsible_engineers: "uuid[]",
  is_archived: "boolean" // ‚Üê –ù–û–í–û–ï –ü–û–õ–ï
}
```

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ API –º–µ—Ç–æ–¥—ã:
- `fetchActiveEvents()` ‚Äî —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
- `fetchArchivedEvents()` ‚Äî —Ç–æ–ª—å–∫–æ –∞—Ä—Ö–∏–≤–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
- `checkArchivingSupport()` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Store:
- Ge—Ç—Ç–µ—Ä—ã `activeEvents` –∏ `archivedEvents`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è
- Fallback –ª–æ–≥–∏–∫–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

## üéØ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –í–∫–ª–∞–¥–∫–∞ "–ê—Ä—Ö–∏–≤–Ω—ã–µ" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å—á–µ—Ç—á–∏–∫–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫–∞—Ö
- ‚úÖ –§—É–Ω–∫—Ü–∏—è –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –∞—Ä—Ö–∏–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∞—Ä—Ö–∏–≤–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫ —Å `is_archived`
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞
- –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ö–µ–º—ã 