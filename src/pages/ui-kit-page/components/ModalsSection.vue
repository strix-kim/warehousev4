<template>
  <section>
    <h2 class="text-xl font-bold text-primary mb-6">ü™ü Modal v2 - Enterprise Grade</h2>
    <BentoGrid columns="2" gap="6">
      <!-- –¢–∏–ø—ã –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω -->
      <BentoCard title="–¢–∏–ø—ã –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω">
        <div class="space-y-4">
          <div class="grid grid-cols-2 gap-3">
            <ButtonV2 variant="primary" size="sm" @click="openModal('basic')">–ë–∞–∑–æ–≤–æ–µ –æ–∫–Ω–æ</ButtonV2>
            <ButtonV2 variant="secondary" size="sm" @click="openModal('form')">–§–æ—Ä–º–∞</ButtonV2>
            <ButtonV2 variant="warning" size="sm" @click="openModal('confirm')">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</ButtonV2>
            <ButtonV2 variant="info" size="sm" @click="openModal('fullscreen')">Fullscreen</ButtonV2>
          </div>
          
          <div class="space-y-2 text-sm">
            <p class="text-success">‚úÖ Focus trap & Keyboard navigation</p>
            <p class="text-success">‚úÖ Accessibility (ARIA)</p>
            <p class="text-success">‚úÖ Body scroll lock</p>
            <p class="text-success">‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞</p>
            <p class="text-success">‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã</p>
          </div>
        </div>
      </BentoCard>

      <!-- –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Modal v2 -->
      <BentoCard title="–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Modal v2">
        <div class="space-y-4">
          <div class="flex items-center gap-3">
            <StatusBadgeV2 size="sm" label="Enterprise" variant="success" />
            <span class="text-sm text-secondary">–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å</span>
          </div>
          
          <div class="flex items-center gap-3">
            <StatusBadgeV2 size="sm" label="EPR System" variant="primary" />
            <span class="text-sm text-secondary">–î–ª—è EPR —Å–∏—Å—Ç–µ–º—ã</span>
          </div>
          
          <div class="flex items-center gap-3">
            <StatusBadgeV2 size="sm" label="A11Y" variant="info" />
            <span class="text-sm text-secondary">–ü–æ–ª–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å</span>
          </div>
        </div>
      </BentoCard>
    </BentoGrid>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <!-- –ë–∞–∑–æ–≤–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <ModalV2 
      v-model="modals.basic" 
      title="–ë–∞–∑–æ–≤–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ"
      size="md"
    >
      <p class="text-secondary">–≠—Ç–æ –±–∞–∑–æ–≤–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ —Å–æ–¥–µ—Ä–∂–∏–º—ã–º.</p>
      
      <template #actions>
        <div class="flex gap-3 justify-end">
          <ButtonV2 variant="ghost" @click="modals.basic = false">–û—Ç–º–µ–Ω–∞</ButtonV2>
          <ButtonV2 variant="primary" @click="modals.basic = false">–ü–æ–Ω—è—Ç–Ω–æ</ButtonV2>
        </div>
      </template>
    </ModalV2>

    <!-- –§–æ—Ä–º–∞ -->
    <ModalV2 
      v-model="modals.form" 
      title="–°–æ–∑–¥–∞–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è"
      size="lg"
    >
      <div class="space-y-4">
        <InputV2 
          v-model="formData.name"
          label="–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è"
          placeholder="Sony FX6, Canon C300..."
          required
        />
        
        <SelectV2
          v-model="formData.category"
          label="–ö–∞—Ç–µ–≥–æ—Ä–∏—è"
          :options="[
            { value: 'cameras', label: '–í–∏–¥–µ–æ–∫–∞–º–µ—Ä—ã' },
            { value: 'audio', label: '–ê—É–¥–∏–æ' },
            { value: 'lighting', label: '–û—Å–≤–µ—â–µ–Ω–∏–µ' }
          ]"
          option-value="value"
          option-label="label"
          placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é"
          required
        />
        
        <InputV2 
          v-model="formData.serial"
          label="–°–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä"
          placeholder="FX6-123456"
        />
      </div>
      
      <template #actions>
        <div class="flex gap-3 justify-end">
          <ButtonV2 variant="ghost" @click="modals.form = false">–û—Ç–º–µ–Ω–∞</ButtonV2>
          <ButtonV2 variant="primary" @click="handleSaveForm">–°–æ–∑–¥–∞—Ç—å</ButtonV2>
        </div>
      </template>
    </ModalV2>

    <!-- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ -->
    <ModalV2 
      v-model="modals.confirm" 
      title="–£–¥–∞–ª–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ?"
      size="sm"
      variant="danger"
    >
      <p class="text-secondary">–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å. –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ –Ω–∞–≤—Å–µ–≥–¥–∞.</p>
      
      <template #actions>
        <div class="flex gap-3 justify-end">
          <ButtonV2 variant="ghost" @click="modals.confirm = false">–û—Ç–º–µ–Ω–∞</ButtonV2>
          <ButtonV2 variant="error" @click="modals.confirm = false">–£–¥–∞–ª–∏—Ç—å</ButtonV2>
        </div>
      </template>
    </ModalV2>

    <!-- Fullscreen -->
    <ModalV2 
      v-model="modals.fullscreen" 
      title="–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–µ –æ–∫–Ω–æ"
      size="fullscreen"
    >
      <div class="space-y-4">
        <p class="text-secondary">–≠—Ç–æ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ñ–æ—Ä–º –∏–ª–∏ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.</p>
        
        <BentoGrid columns="2" gap="4">
          <BentoCard title="–°–µ–∫—Ü–∏—è 1" size="1x1">
            <p class="text-secondary">–ö–æ–Ω—Ç–µ–Ω—Ç –ø–µ—Ä–≤–æ–π —Å–µ–∫—Ü–∏–∏</p>
          </BentoCard>
          
          <BentoCard title="–°–µ–∫—Ü–∏—è 2" size="1x1">
            <p class="text-secondary">–ö–æ–Ω—Ç–µ–Ω—Ç –≤—Ç–æ—Ä–æ–π —Å–µ–∫—Ü–∏–∏</p>
          </BentoCard>
        </BentoGrid>
      </div>
      
      <template #actions>
        <div class="flex gap-3 justify-end">
          <ButtonV2 variant="ghost" @click="modals.fullscreen = false">–ó–∞–∫—Ä—ã—Ç—å</ButtonV2>
          <ButtonV2 variant="primary" @click="modals.fullscreen = false">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</ButtonV2>
        </div>
      </template>
    </ModalV2>
  </section>
</template>

<script setup>
import { ref } from 'vue'
import { 
  BentoGrid, 
  BentoCard, 
  ButtonV2, 
  ModalV2, 
  StatusBadgeV2,
  InputV2,
  SelectV2
} from '@/shared/ui-v2'

// –°–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
const modals = ref({
  basic: false,
  form: false,
  confirm: false,
  fullscreen: false
})

// –î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
const formData = ref({
  name: '',
  category: '',
  serial: ''
})

// –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
const openModal = (type) => {
  modals.value[type] = true
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã
const handleSaveForm = () => {
  console.log('Saving form:', formData.value)
  modals.value.form = false
  // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
  formData.value = {
    name: '',
    category: '',
    serial: ''
  }
}
</script>